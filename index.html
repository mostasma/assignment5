<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Emergency Service Directory</title>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='48' fill='%23e11d48'/%3E%3Ctext x='50' y='58' text-anchor='middle' font-size='60' fill='white'%3E%F0%9F%9A%91%3C/text%3E%3C/svg%3E" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    
  
    * { box-sizing: border-box; }
    body { 
      margin: 0; 
       color:
        var(--text); 
        background: #f7fafc; }
    .container { 
      max-width: 1200px; 
      margin: 0 auto;
       padding: 0 20px; }

    /* Navbar */
    .navbar {
  position: sticky;
  top: 0;
  z-index: 50;
  backdrop-filter: saturate(1.4) blur(6px);
  background: rgba(255, 255, 255, 0.8);
  border-bottom: 1px solid #e2e8f0;
}

.navbar-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 64px;
  padding: 0 20px; /* spacing on left/right */
}

.brand {
  display: flex;
  align-items: center;
  gap: 12px;
  font-weight: 700;
  text-decoration: none; /* remove underline on link */
  color: inherit; /* keeps text color consistent */
}

.brand .logo {
  inline-size: 36px;
  block-size: 36px;
  display: grid;
  place-items: center;
  border-radius: 50%;
  overflow: hidden; /* ensures logo image stays inside circle */
  background: radial-gradient(circle at 30% 30%, #fde68a, #f59e0b 60%);
  box-shadow: inset 0 0 0 2px #fff, 0 6px 18px rgba(0, 0, 0, 0.15);
}

.brand .logo img {
  width: 50px;
  height: 50px;
 
}

.brand span {
  letter-spacing: 0.2px;
}

.nav-links {
  list-style: none;
  display: flex;
  gap: 20px;
  margin: 0;
  padding: 0;
}

.nav-links a {
  text-decoration: none;
  color: #333;
  font-weight: 500;
}

.nav-links a:hover {
  text-decoration: underline;
}


    .stats { 
      display: flex; 
      align-items: center; 
      gap: 10px; }

    .pill { 
      display: inline-flex; 
      align-items: center; 
      gap: 8px; 
      padding: 8px 12px; 
      border-radius: 999px;
       background: var(--pill); color: #0369a1; 
       font-weight: 600; border: 1px solid #bae6fd; }

    .pill.heart { 
      background: #ffe4e680; color: #be123c; 
      border-color: #fecdd3; }

    .pill.coins {
       background: #fef3c780; color: #a16207; 
       border-color: #fde68a; }
    .pill.copy {
       background: #dcfce780; 
       color: #166534; 
       border-color: #bbf7d0; }

    /* Hero */
    .hero {
       background: #065D42; 
       text-align: center; 
       padding: 48px 16px 56px; 
       position: relative; 
       overflow: hidden; }

    .hero .crest { 
      inline-size: 64px; 
      block-size: 64px; 
      display: grid; 
      place-items: center; 
      border-radius: 50%;
       margin: 0 auto 14px; 
       background: radial-gradient(circle at 30% 30%, #fde68a, #f59e0b 60%); box-shadow: 0 10px 30px rgba(0,0,0,.25), inset 0 0 0 3px rgba(255,255,255,.6); 
       font-size: 30px; }

    .hero h1 { 
      margin: 6px 0 8px; 
      font-size: clamp(22px, 5vw, 34px);
       letter-spacing: .3px;
       }
    .hero p { 
      margin: 0; 
      opacity: .95; 
      font-size: clamp(12px, 2.5vw, 14px); }

    /* Layout */
    .main {
      max-width: 1800px;
      
       padding: 28px 0 48px;}

    .grid { 
      display: grid; 
      grid-template-columns: 1fr 320px; 
      gap: 20px;
       align-items: start; }

    /* Cards */
    .cards { 
      display: grid; 
      grid-template-columns: repeat(3, minmax(0, 1fr)); 
      gap: 16px; }

    .card { 
      background: var(--card); 
      border-radius:10px; 
      box-shadow: var(--shadow); 
      padding: 16px; 
      position: relative; 
      border: 1px solid #e2e8f0; 
      display: grid; 
      grid-template-rows: auto auto auto auto 1fr auto; 
      gap: 8px; }

    .card .fav { 
      position: absolute; 
      inset-inline-start: 10px; 
      inset-block-start: 10px; 
      background: #fff; 
      border: 1px solid #fecdd3; 
      width: 34px;
       height: 34px; 
       display: grid; 
       place-items: center; 
       border-radius: 10px; 
       cursor: pointer; 
       transition: transform .15s ease;
       background-color:  .15s ease; 
      }

    .card .fav.active {
       background: #fff0f3; 
      }

    .card .fav:active { 
      transform: scale(.95);
     }

    .card .icon { 
      justify-self: center; 
      font-size: 26px; 
      background: #f1f5f9; 
      width: 48px; 
      height: 48px; 
      border-radius: 12px; 
      display: grid;
       place-items: center; 
       box-shadow: inset 0 0 0 1px #e2e8f0;
       }

    .name { 
      font-size: 16px; 
      font-weight: 700;
       text-align: start; 
       padding-inline-start: 2px; 
      }

    .local { 
      font-size: 12px; 
      color: var(--muted); 
      padding-inline-start: 2px; 
    }

    .number { 
      font: 700 20px ui-sans-serif, system-ui; 
      letter-spacing: .3px; 
      padding-inline-start: 2px; 
    }

    .badge { 
      justify-self: start; 
      margin-top: 2px; 
      padding: 2px 8px; 
      font-size: 11px; 
      border-radius: 999px; 
      background: #f1f5f9; 
      color: #334155; 
      border: 1px solid #e2e8f0; 
    }

    .actions { 
      display: grid;
      grid-template-columns: 1fr 1fr; 
      gap: 10px;
      margin-top: 6px; 
      }

    .btn { 
      appearance: none; 
      border: 1px solid #cbd5e1;
       background: #ffffff;
        padding: 10px 12px;
         border-radius: 12px; 
         font-weight: 700; 
         cursor: pointer; 
         display: inline-flex; 
         align-items: center;
          justify-content: center; 
          gap: 8px; 
          transition: transform .06s ease, box-shadow .15s ease; background: .15s ease;
           box-shadow: 0 2px 0 #e2e8f0; 
          }

    .btn:active { 
      transform: translateY(1px); 
      box-shadow: 0 1px 0 #e2e8f0; 
    }
    .btn.primary { 
      background: #10b981; 
      color: white; 
      border-color: #059669; 
      box-shadow: 0 2px 0 #047857;
     }

    .btn.ghost {
       background: #f8fafc; }

    /* History */
    .history { 
      background: #ffffff;
       border: 1px solid #e2e8f0; 
       border-radius: 10px;      
       position: sticky;
      top: 84px; overflow: hidden;
     }
    .history-head {
       display: flex; 
       align-items: center; 
       justify-content: space-between; 
       padding: 14px 14px; 
       border-bottom: 1px solid #e2e8f0; 
      }

    .history-title { 
      font-weight: 800; 
      display: inline-flex; 
      align-items: center; 
      gap: 8px; 
    }

    .clear { 
      background: #f1f5f9; 
      border: 1px solid darkgreen; 
      background: #10b981; 
      padding: 8px 10px; 
      border-radius: 10px; 
      cursor: pointer; 
      font-weight: 700; 
    }

    .history-list { 
      list-style: none;
       margin: 0; 
       padding: 10px 10px 14px;
        max-height: 70vh; 
        overflow: auto; 
      }

    .history-item { 
      display: grid; 
      grid-template-columns: 1fr auto; 
      gap: 8px; 
      padding: 
      10px; 
      border-radius: 12px; 
      border: 1px dashed #e2e8f0; 
      margin: 6px 0;
      background: #fafafa; 
    }

    .history-item .meta { 
      font-size: 12px; 
      color: var(--muted); 
      display: grid;
      grid-auto-flow: column; 
      gap: 10px; 
      align-items: center; 
    }
    .empty {
       padding: 18px 10px; 
       color: var(--muted);
       
       font-size: 14px; text-align: center; }

    /* Responsive */
    @media (max-width: 1100px) {
      .cards { grid-template-columns: repeat(2, minmax(0, 1fr)); }
      .grid { grid-template-columns: 1fr 300px; }
    }
    @media (max-width: 900px) {
      .grid { grid-template-columns: 1fr; }
      .history { position: static; }
      .cards { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }
    @media (max-width: 640px) {
      .cards { grid-template-columns: 1fr; }
      .navbar-inner { height: auto; padding: 10px 0; gap: 10px; }
      .stats { width: 100%; justify-content: space-between; }
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <header class="navbar">
    <div class="container navbar-inner">
      <div class="brand" aria-label="Website brand">
        
          <img src="assets/logo.png" alt="Company Logo">
       
         <span>Emergency Service</span>
      </div>
      <div class="stats" aria-label="Counters">
        <!-- Heart / Favorites -->
        <div class="pill heart" title="Favorites">
          <span id="heartCount">0</span>
          <i class="fa-solid fa-heart"></i>
        </div>
      
        <!-- Coins -->
        <div class="pill coins" title="Coins available">        
          <span id="coinCount">100</span>
          <i class="fa-solid fa-coins"></i>
        </div>
      
        <!-- Copy -->
        <div class="pill copy" title="Copy count">
          
          <span id="copyCount">0copy</span>
          <i class="fa-regular fa-copy"></i>
        </div>
      </div>
      
    </div>
  </header>

  <!-- Hero -->
  <section class="hero">
     <img src="assets/logo-dark.png" alt="">
    <h1>Emergency Service Directory</h1>
    <p>Government Emergency Services at Your Fingertips â€” A project by Government of the People's Republic of Bangladesh</p>
  </section>

  <!-- Main -->
  <main class="main container">
    <div class="grid">
      <!-- Card Section -->
      <section aria-label="Emergency hotlines" class="cards" id="cards"></section>

      <!-- History Section -->
      <aside class="history" aria-label="Call history">
        <div class="history-head">
          <div class="history-title">ðŸ“ž Call History</div>
          <button id="clearHistory" class="clear" type="button">Clear</button>
        </div>
        <ul id="historyList" class="history-list">
          <li class="empty" id="historyEmpty">No calls yet.</li>
        </ul>
      </aside>
    </div>
  </main>

  <script>
    // ---------- Data ----------
    const services = [
      { id: 'nat-emergency', 
      icon: 'ðŸ›¡ï¸', 
      name: 'National Emergency Number', 
      localName: 'à¦œà¦¾à¦¤à§€à§Ÿ à¦œà¦°à§à¦°à¦¿ à¦¸à§‡à¦¬à¦¾',
       number: '999', 
       category: 'All' 
      },
      { 
        id:  'police', 
        icon: 'ðŸ‘®', 
        name: 'Police Helpline Number', 
        localName: 'à¦ªà§à¦²à¦¿à¦¶', 
        number: '999', 
        category: 'Police' },

      { 
        id: 'fire', 
        icon: 'ðŸš’', 
        name: 'Fire Service Number', 
        localName: 'à¦«à¦¾à§Ÿà¦¾à¦° à¦¸à¦¾à¦°à§à¦­à¦¿à¦¸', 
        number: '999', 
        category: 'Fire' },

      { 
        id: 'ambulance', 
        icon: 'ðŸš‘', 
        name: 'Ambulance Service', 
        localName: 'à¦…à§à¦¯à¦¾à¦®à§à¦¬à§à¦²à§‡à¦¨à§à¦¸', 
        number: '1994-9999999', 
        category: 'Health' },

      { 
        id: 'women-child', 
        icon: 'ðŸ‘©\u200dðŸ‘§', 
        name: 'Women & Child Helpline', 
        localName: 'à¦¨à¦¾à¦°à§€ à¦“ à¦¶à¦¿à¦¶à§', 
        number: '109', 
        category: 'Help' },

      { 
        id: 'anti-corruption', 
        icon: 'ðŸ›¡ï¸', 
        name: 'Anti-Corruption Helpline', 
        localName: 'à¦¦à§à¦°à§à¦¨à§€à¦¤à¦¿ à¦¦à¦®à¦¨', 
        number: '106', 
        category: 'Govt.' },

      { 
        id: 'electricity', 
        icon: 'ðŸ’¡', 
        name: 'Electricity Helpline', 
        localName: 'à¦¬à¦¿à¦¦à§à¦¯à§à§Ž', 
        number: '16216', 
        category: 'Electricity' },

      { 
        id: 'brac', 
        icon: 'ðŸ¥', 
        name: 'Brac Helpline',
         localName: 'à¦¬à§à¦°à§à¦¯à¦¾à¦•', 
         number: '16465', 
         category: 'NGO' },

      { 
        id: 'rail', 
        icon: 'ðŸš†', 
        name: 'Bangladesh Railway Helpline', 
        localName: 'à¦¬à¦¾à¦‚à¦²à¦¾à¦¦à§‡à¦¶ à¦°à§‡à¦²à¦“à¦¯à¦¼à§‡', 
        number: '163',
        category: 'Travel' }
    ];

    // ---------- State ----------
    let coins = 100;
    let copyCount = 0;
    let heartCount = 0;

    // ---------- DOM ----------
    const cardsEl = document.getElementById('cards');
    const coinEl = document.getElementById('coinCount');
    const copyEl = document.getElementById('copyCount');
    const heartEl = document.getElementById('heartCount');
    const historyList = document.getElementById('historyList');
    const historyEmpty = document.getElementById('historyEmpty');
    const clearBtn = document.getElementById('clearHistory');

    // ---------- Helpers ----------
    const fmtTime = () => new Date().toLocaleTimeString([], 
    { hour: '2-digit', minute: '2-digit', second: '2-digit' });

    const updatePills = () => 
    { coinEl.textContent = coins; copyEl.textContent = copyCount; heartEl.textContent = heartCount; };

    function renderCards() {
      const html = services.map(s => `
        <article class="card" data-id="${s.id}">
          <button class="fav" type="button" aria-label="Add to favorites" title="Add to favorites">ðŸ’—</button>
          <div class="icon" aria-hidden="true">${s.icon}</div>
          <div class="name">${s.name}</div>
          <div class="local">${s.localName}</div>
          <div class="number">${s.number}</div>
          <span class="badge">${s.category}</span>
          <div class="actions">
            <!-- Copy button -->
<button class="btn ghost copy-btn" type="button" data-number="${s.number}" data-name="${s.name}">
  <i class="fa-regular fa-copy"></i> Copy
</button>

<!-- Call button -->
<button class="btn primary call-btn" type="button" data-number="${s.number}">
  <i class="fa-solid fa-phone"></i> Call
</button>

          </div>
        </article>
      `).join('');
      cardsEl.innerHTML = html;
    }

    renderCards();

    // Event Delegation for all card buttons

    cardsEl.addEventListener('click', async (e) => {
      const favBtn = e.target.closest('.fav');

      if (favBtn && favBtn.closest('.card')) {
        const isActive = favBtn.classList.toggle('active');
        favBtn.setAttribute('aria-pressed', String(isActive));
        heartCount += isActive ? 1 : -1;
        if (heartCount < 0) heartCount = 0;
        updatePills();
        return;
      }

      const copyBtn = e.target.closest('.copy-btn');
      if (copyBtn) {
        const number = copyBtn.dataset.number || '';
        const name = copyBtn.dataset.name || 'Service';
        try {
          if (navigator.clipboard && navigator.clipboard.writeText) {
            await navigator.clipboard.writeText(number);
          } else {
            // Fallback for older browsers
            const ta = document.createElement('textarea');
            ta.value = number; document.body.appendChild(ta); ta.select(); document.execCommand('copy'); ta.remove();
          }
          copyCount++;
          updatePills();
          alert(`Copied ${name} number ( ${number} ) to clipboard.`);
        } catch (err) {
          alert('Copy failed. You can manually copy: ' + number);
        }
        return;
      }

      const callBtn = e.target.closest('.call-btn');
      if (callBtn) {
        const number = callBtn.dataset.number || '';
        const name = callBtn.dataset.name || 'Service';
        if (coins < 20) {
          alert('Not enough coins to make a call. You need 20 coins.');
          return;
        }
        coins -= 20; updatePills();
        alert(`Calling ${name} at ${number}...`);
        addToHistory({ name, number, time: fmtTime() });
      }
    });

    function addToHistory(entry) {
      if (historyEmpty) historyEmpty.remove();
      const li = document.createElement('li');
      li.className = 'history-item';
      li.innerHTML = `
        <div>
          <div style="font-weight:800">${entry.name}</div>
          <div class="meta"><span>ðŸ“± ${entry.number}</span><span>ðŸ•’ ${entry.time}</span></div>
        </div>
       
      `;
      historyList.prepend(li);
    }

    clearBtn.addEventListener('click', () => {
      historyList.innerHTML = '';
      const empty = document.createElement('li');
      empty.id = 'historyEmpty';
      empty.className = 'empty';
      empty.textContent = 'No calls yet.';
      historyList.append(empty);
    });

    // Initial values
    updatePills();
  </script>
</body>
</html>
